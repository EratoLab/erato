[file_storage_providers.minio]
provider_kind = "s3"
config = { endpoint = "http://localhost:9000", bucket = "erato-storage", region = "us-east-1", access_key_id = "erato-app-user", secret_access_key = "erato-app-password" }

# Chat providers for e2e tests
[chat_providers]
priority_order = ["test-token-limit"]

# Test model with very low token limit for e2e testing token warnings
# Only accessible to tokentest@example.com user (configured in Keycloak)
[chat_providers.providers.test-token-limit]
provider_kind = "ollama"
model_name = "smollm2:135m"
model_display_name = "Test Model (Low Token Limit)"
base_url = "http://localhost:12434/v1/"

[chat_providers.providers.test-token-limit.model_capabilities]
context_size_tokens = 1000  # Very low limit for easy testing
cost_input_tokens_per_1m = 0.0
cost_output_tokens_per_1m = 0.0

# Model permissions - allow test model for all users (low token limit makes it test-only anyway)
[model_permissions.rules.allow-test-model-for-all]
rule_type = "allow-all"
chat_provider_ids = ["test-token-limit"]

# From ./run_mcp_server.sh
# [mcp_servers.file_provider]
# transport_type = "sse"
# url = "http://127.0.0.1:63490/sse"

# Example Sentry integration configuration
# [integrations.sentry]
# sentry_dsn = "https://your-sentry-dsn@sentry.io/project-id"

# Frontend configuration options for embedded scenarios
# [frontend]
# # Whether to disable file upload functionality in the UI (default: false)
# disable_upload = true
# # Whether to disable automatic focusing of the chat input field (default: false)
# # This prevents unwanted scrolling behavior when navigating to pages with embedded chat
# disable_chat_input_autofocus = true
# # Whether to hide logout functionality from the UI (default: false)
# disable_logout = true

# Experimental assistants feature configuration
# [experimental_assistants]
# # Whether to enable the experimental assistants feature in the frontend (default: false)
# enabled = false
